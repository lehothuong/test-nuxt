<template>
  <div class="navigationPlus" :class="{hideTab:hideTab}">
    <div class="navigation" >
      <div class="row h-100 justify-content-between align-items-center mx-2-minus px-3">
        <div class="col px-2 text-center">
          <nuxt-link title="Trang chủ" to="/">
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26">
                <g transform="translate(-34 -681)">
                  <rect
                    width="26"
                    height="26"
                    transform="translate(34 681)"
                    fill="#ddd"
                    opacity="0"
                  />
                  <path
                    d="M-.984-14.31-9.214-7.531V-.214A.715.715,0,0,0-8.5.5l5-.013a.715.715,0,0,0,.711-.714V-4.5a.715.715,0,0,1,.714-.714H.785A.715.715,0,0,1,1.5-4.5V-.23s0,0,0,0a.715.715,0,0,0,.714.714h0l5,.014a.715.715,0,0,0,.714-.714V-7.536L-.3-14.31a.633.633,0,0,0-.342-.12A.633.633,0,0,0-.984-14.31Zm13,4.608L8.286-12.778v-6.183A.536.536,0,0,0,7.75-19.5H5.25a.536.536,0,0,0-.536.536v3.242l-4-3.288A2.49,2.49,0,0,0-.644-19.5a2.49,2.49,0,0,0-1.362.488L-13.306-9.7a.608.608,0,0,0-.194.413.622.622,0,0,0,.123.342l1.138,1.384a.607.607,0,0,0,.414.2.623.623,0,0,0,.341-.123l10.5-8.649a.633.633,0,0,1,.341-.121A.633.633,0,0,1-.3-16.14L10.2-7.491a.622.622,0,0,0,.342.123.608.608,0,0,0,.413-.194l1.138-1.384a.623.623,0,0,0,.122-.34A.607.607,0,0,0,12.018-9.7Z"
                    transform="translate(47.643 703.498)"
                    fill="#666"
                  />
                </g>
              </svg>
            </div>
            <p class="text-uppercase mt-1">Trang chủ</p>
          </nuxt-link>
        </div>
        <!-- <div class="col px-2 text-center">
                    <nuxt-link title="Mẹ & bé" to="/me-va-be">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26"><g transform="translate(-128 -681)"><rect width="26" height="26" transform="translate(128 681)" fill="#ddd" opacity="0"/><path d="M.75-12.875a4.061,4.061,0,0,0,4.062-4.062A4.061,4.061,0,0,0,.75-21a4.061,4.061,0,0,0-4.062,4.062A4.061,4.061,0,0,0,.75-12.875ZM-1.962-.241l1.3-1.625-3.123-2.6L-6.116-1.551A2.035,2.035,0,0,0-6.156.938l2.437,3.25A2.029,2.029,0,0,0-2.094,5,2.031,2.031,0,0,0-.875,4.594,2.032,2.032,0,0,0-.469,1.75ZM5.285-4.466l-3.123,2.6,1.3,1.625L1.969,1.75a2.031,2.031,0,0,0,3.25,2.437L7.656.938a2.035,2.035,0,0,0-.041-2.488Zm4.845-9.171a2.034,2.034,0,0,0-2.829-.5L5.239-12.687a7.855,7.855,0,0,1-8.978,0L-5.8-14.129a2.033,2.033,0,0,0-2.829.493,2.033,2.033,0,0,0,.493,2.829l2.062,1.447A12.05,12.05,0,0,0-3.313-7.944v1.569H4.812V-7.939A12.049,12.049,0,0,0,7.575-9.356L9.637-10.8A2.035,2.035,0,0,0,10.129-13.637Z" transform="translate(139.997 702)" fill="#666"/></g></svg>
                    </div>
                        <p class="text-uppercase mt-1">Mẹ & bé</p>
                    </nuxt-link>
        </div>-->
        <div class="col px-2 text-center" id="accountId">
          <a title="Đăng nhập" v-if="!loggedIn" class="pointer" @click.prevent="handledLogin()">
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26">
                <g transform="translate(19256 -7436)">
                  <rect
                    width="26"
                    height="26"
                    transform="translate(-19256 7436)"
                    fill="#fff"
                    opacity="0"
                  />
                  <g transform="translate(1.001 46)">
                    <path
                      d="M16.981,21.737H2.038A2.04,2.04,0,0,1,0,19.7V17.933a5.712,5.712,0,0,1,5.706-5.706h.708a7.389,7.389,0,0,0,6.19,0h.647a6,6,0,0,0,5.192,8.892A2.022,2.022,0,0,1,16.981,21.737ZM9.509,10.868a5.434,5.434,0,1,1,5.434-5.434A5.44,5.44,0,0,1,9.509,10.868Z"
                      transform="translate(-19256.002 7392)"
                      fill="#666"
                    />
                    <path
                      d="M5-12.031a5,5,0,0,0-5,5,5,5,0,0,0,5,5,5,5,0,0,0,5-5A5,5,0,0,0,5-12.031Zm.484,7.581v.323a.324.324,0,0,1-.323.323H4.839a.324.324,0,0,1-.323-.323v-.327a1.791,1.791,0,0,1-.935-.3.324.324,0,0,1-.046-.508l.242-.228a.327.327,0,0,1,.4-.032.784.784,0,0,0,.4.109h.907A.446.446,0,0,0,5.9-5.89a.471.471,0,0,0-.306-.458L4.133-6.789a1.439,1.439,0,0,1-.992-1.383,1.412,1.412,0,0,1,1.375-1.44v-.323a.324.324,0,0,1,.323-.323h.323a.324.324,0,0,1,.323.323v.327a1.791,1.791,0,0,1,.935.3.324.324,0,0,1,.046.508l-.242.228a.327.327,0,0,1-.4.032.784.784,0,0,0-.4-.109H4.518a.446.446,0,0,0-.413.472.471.471,0,0,0,.306.458l1.452.442A1.439,1.439,0,0,1,6.855-5.89,1.408,1.408,0,0,1,5.484-4.451Z"
                      transform="translate(-19242.492 7414.149)"
                      fill="#666"
                    />
                  </g>
                </g>
              </svg>
            </div>
            <p class="text-uppercase mt-1">Tài khoản</p>
          </a>
          <nuxt-link title="Tài khoản" v-if="loggedIn" to="/tai-khoan">
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26">
                <g transform="translate(19256 -7436)">
                  <rect
                    width="26"
                    height="26"
                    transform="translate(-19256 7436)"
                    fill="#fff"
                    opacity="0"
                  />
                  <g transform="translate(1.001 46)">
                    <path
                      d="M16.981,21.737H2.038A2.04,2.04,0,0,1,0,19.7V17.933a5.712,5.712,0,0,1,5.706-5.706h.708a7.389,7.389,0,0,0,6.19,0h.647a6,6,0,0,0,5.192,8.892A2.022,2.022,0,0,1,16.981,21.737ZM9.509,10.868a5.434,5.434,0,1,1,5.434-5.434A5.44,5.44,0,0,1,9.509,10.868Z"
                      transform="translate(-19256.002 7392)"
                      fill="#666"
                    />
                    <path
                      d="M5-12.031a5,5,0,0,0-5,5,5,5,0,0,0,5,5,5,5,0,0,0,5-5A5,5,0,0,0,5-12.031Zm.484,7.581v.323a.324.324,0,0,1-.323.323H4.839a.324.324,0,0,1-.323-.323v-.327a1.791,1.791,0,0,1-.935-.3.324.324,0,0,1-.046-.508l.242-.228a.327.327,0,0,1,.4-.032.784.784,0,0,0,.4.109h.907A.446.446,0,0,0,5.9-5.89a.471.471,0,0,0-.306-.458L4.133-6.789a1.439,1.439,0,0,1-.992-1.383,1.412,1.412,0,0,1,1.375-1.44v-.323a.324.324,0,0,1,.323-.323h.323a.324.324,0,0,1,.323.323v.327a1.791,1.791,0,0,1,.935.3.324.324,0,0,1,.046.508l-.242.228a.327.327,0,0,1-.4.032.784.784,0,0,0-.4-.109H4.518a.446.446,0,0,0-.413.472.471.471,0,0,0,.306.458l1.452.442A1.439,1.439,0,0,1,6.855-5.89,1.408,1.408,0,0,1,5.484-4.451Z"
                      transform="translate(-19242.492 7414.149)"
                      fill="#666"
                    />
                  </g>
                </g>
              </svg>
            </div>
            <p class="text-uppercase mt-1">Tài khoản</p>
          </nuxt-link>
        </div>
        <!-- <div class="col px-2 text-center">
                    <nuxt-link to="/me-va-be">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26"><g transform="translate(-222 -681)"><rect width="26" height="26" transform="translate(222 681)" fill="#ddd" opacity="0"/><g transform="translate(0 -2)"><path d="M18313.256-11223h-.133a13.531,13.531,0,0,1-5.605-1.49,7.267,7.267,0,0,0-2.465-.759.555.555,0,0,1-.551-.561v-10.019a.561.561,0,0,1,.166-.4,18.646,18.646,0,0,0,2.318-2.922l.008-.012a16.013,16.013,0,0,1,1.848-2.368,5.692,5.692,0,0,0,1.189-2.758l0-.013c.209-.877.646-2.7,1.59-2.7a3.446,3.446,0,0,1,2.107.617,3.747,3.747,0,0,1,1.266,3.2,6.043,6.043,0,0,1-.928,3,6.809,6.809,0,0,0-.631,1.438h4.77a2.811,2.811,0,0,1,2.791,2.727,3.4,3.4,0,0,1-.91,2.3l-.006,0a3.9,3.9,0,0,1-.436,3.724,3.691,3.691,0,0,1-.77,3.5,2.484,2.484,0,0,1-.289,2.1C18317.615-11223,18315.2-11223,18313.256-11223Zm-2.676-5.848-.473,1.02a3.526,3.526,0,0,0,1.084.616,4.884,4.884,0,0,0,1.357.285v1.19h1.121v-1.209a2.858,2.858,0,0,0,1.643-.768,2.035,2.035,0,0,0,.615-1.49,1.752,1.752,0,0,0-.354-1.145,2.1,2.1,0,0,0-.855-.63,8.914,8.914,0,0,0-1.3-.4,9.419,9.419,0,0,1-.961-.275,1.6,1.6,0,0,1-.59-.358.778.778,0,0,1-.229-.589.963.963,0,0,1,.4-.823,1.776,1.776,0,0,1,1.086-.3,3.487,3.487,0,0,1,2.189.8l.473-1.025a3.176,3.176,0,0,0-.943-.57,4.593,4.593,0,0,0-1.2-.308v-1.2h-1.121v1.209a2.928,2.928,0,0,0-1.664.782,2.045,2.045,0,0,0-.645,1.508,1.8,1.8,0,0,0,.373,1.19,2.281,2.281,0,0,0,.893.662,9.788,9.788,0,0,0,1.355.424c.371.1.68.187.916.271a1.609,1.609,0,0,1,.547.313.651.651,0,0,1,.215.516.957.957,0,0,1-.4.827,1.979,1.979,0,0,1-1.148.285,3.781,3.781,0,0,1-1.246-.2A4.356,4.356,0,0,1,18310.58-11228.846Zm-8.7,5.848h-3.752a1.129,1.129,0,0,1-1.127-1.127v-11.251a1.126,1.126,0,0,1,1.127-1.122h3.752a1.123,1.123,0,0,1,1.121,1.122v11.251A1.126,1.126,0,0,1,18301.877-11223Zm-1.877-4.129a1.128,1.128,0,0,0-1.127,1.126,1.129,1.129,0,0,0,1.127,1.127,1.129,1.129,0,0,0,1.127-1.127A1.128,1.128,0,0,0,18300-11227.127Z" transform="translate(-18074 11931)" fill="#666"/></g></g></svg>
                    </div>
                        <p class="text-uppercase mt-1">Giá tốt</p>
                    </nuxt-link>
                </div>
                <div class="col px-2 text-center">
                    <nuxt-link to="/me-va-be">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26"><g transform="translate(-316 -681)"><rect width="26" height="26" transform="translate(316 681)" fill="#ddd" opacity="0"/><path d="M5.229-11.821l-8.608-8.608A2.24,2.24,0,0,0-4.758-21H-13.05A1.95,1.95,0,0,0-15-19.05v8.292a2.24,2.24,0,0,0,.571,1.379L-5.821-.771a1.95,1.95,0,0,0,2.758,0L5.229-9.063A1.95,1.95,0,0,0,5.229-11.821ZM-10.45-14.5a1.95,1.95,0,0,1-1.95-1.95,1.95,1.95,0,0,1,1.95-1.95A1.95,1.95,0,0,1-8.5-16.45,1.95,1.95,0,0,1-10.45-14.5ZM10.429-9.063a1.95,1.95,0,0,0,0-2.758L1.821-20.429A2.24,2.24,0,0,0,.442-21H-1.537l7.972,7.972a3.632,3.632,0,0,1,1.071,2.585A3.632,3.632,0,0,1,6.435-7.857L-.636-.786l.015.015a1.95,1.95,0,0,0,2.758,0Z" transform="translate(331 705)" fill="#666"/></g></svg>
                    </div>
                        <p class="text-uppercase mt-1">Mã giảm</p>
                    </nuxt-link>
        </div>-->
      </div>
    </div>
  </div>
</template>
<script>
export default {
  data() {
    return {
      hideTab:true,
    };
  },
  computed: {
    loggedIn() {
      return this.$auth.loggedIn;
    },
    modalShow: {
      // return this.$store.state.showPopup
      get() {
        return this.$store.state.showPopup;
      },
      set(showPopups) {
        this.$store.commit("changePopup", showPopups);
      }
    }
  },
  mounted(){
    var me = this
    window.addEventListener('scroll', function(event) {
      me.handleScroll(this.scrollY)
    })
  },
  methods: {
    handleScroll: function(e) {
      if (this.lastscrollvalue === undefined) {
        this.hideTab = false
        this.lastscrollvalue = e
      } else if (e > this.lastscrollvalue) {
        if (e > 0) {
          this.hideTab = false
        }
        this.lastscrollvalue = e
      } else if (e < this.lastscrollvalue) {
        this.hideTab = true
      

        this.lastscrollvalue = e
      }
    },
    handledLogin() {
      if (!this.$auth.loggedIn) {
        this.tabIndex = 0;
        this.modalShow = true;
        // this.$store.commit("changePopup", true);
      }
    }
  }
};
</script>
<style lang="scss" scoped>
.navigationPlus {
  position: relative;
  // padding-bottom: 60px;
}
.navigation {
  position: fixed;
  font-size: 11px;
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 15;
  height: 60px;
  background-color: #fff;
  box-shadow: 0 -3px 10px 0 rgba(0, 0, 0, 0.1);
  transition: 0.3s all;
  .nuxt-link-exact-active {
    transition: 0.3s all;
    color: #cb0055;
    svg {
      path {
        fill: #cb0055 !important;
      }
    }
  }
}
</style>